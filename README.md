# File-finder-bot
*–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Gemini AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –¥–Ω—è—Ö —Ä–æ–∂–¥–µ–Ω–∏—è, —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö.*

## –û–±–∑–æ—Ä –∏ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç Telegram –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–æ–º–æ—â–∏ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∏ –ø–æ–∏—Å–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Å –ø–æ–º–æ—â—å—é Gemini AI (–∫–∞–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ñ–∞–π–ª–∞, —Ç–∞–∫ –∏ –±–µ–∑) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –¥–Ω—è—Ö —Ä–æ–∂–¥–µ–Ω–∏—è. –ë–æ—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –¥–æ–º–∞—à–Ω–∏—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è—Ö (homelab) –∏–ª–∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –∫–æ–º–∞–Ω–¥–∞—Ö –±–ª–∞–≥–æ–¥–∞—Ä—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º —Å–∞–º–æ—Ö–æ—Å—Ç–∏–Ω–≥–∞, –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≥–∏–±–∫–æ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–æ—Å—Ç—É–ø–æ–º.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: `.env` –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ `config.json` –¥–ª—è –æ–±—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

### `.env` –§–∞–π–ª

–°–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∏ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

```dotenv
TELEGRAM_BOT_TOKEN="–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê"
GEMINI_API_KEY="–í–ê–®_API_–ö–õ–Æ–ß_GEMINI"
MAIN_ADMIN_ID="–í–ê–®_ID_TELEGRAM"
```

> [!WARNING]
> –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ç–æ–∫–µ–Ω—ã –∏ API-–∫–ª—é—á–∏, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ –∏–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è!

### `config.json` –§–∞–π–ª

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞:

```json
{
  "FILE_LIST_PATH": "all_files_utf8.txt",
  "BASE_FOLDER_NAME": "Dok_2.5",
  "TIMEZONE_MSK": "Europe/Moscow",
  "BROADCAST_HOUR": 0,
  "BROADCAST_MINUTE": 0,
  "MAX_GEMINI_REQUESTS_PER_MINUTE": 5,
  "MAX_PDF_SIZE_MB_AI": 15,
  "MAX_PDF_TO_SEND_COUNT": 10,
  "MAX_PDF_TOTAL_SIZE_MB_SEND": 50,
  "WHITELISTED_USER_IDS": [
    5356340343,
    6164097677
  ],
  "BIRTHDAYS": {
    "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á 01.01.2000": "01.01",
    "–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á 02.02.1999": "02.02"
  }
}
```

#### –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
*   `FILE_LIST_PATH`: –ü—É—Ç—å –∫ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Ñ–∞–π–ª—É, —Å–æ–¥–µ—Ä–∂–∞—â–µ–º—É —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º.
*   `BASE_FOLDER_NAME`: –ë–∞–∑–æ–≤–∞—è –ø–∞–ø–∫–∞, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ—è—Ç—Å—è –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Dok_2.5`).
*   `BROADCAST_HOUR`, `BROADCAST_MINUTE`: –í—Ä–µ–º—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏ –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è (–ø–æ `TIMEZONE_MSK`).
*   `MAX_GEMINI_REQUESTS_PER_MINUTE`: –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AI –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   `MAX_PDF_SIZE_MB_AI`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä PDF-—Ñ–∞–π–ª–∞ (–≤ –ú–ë), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Gemini AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
*   `MAX_PDF_TO_SEND_COUNT`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ PDF-—Ñ–∞–π–ª–æ–≤, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –±–æ—Ç–æ–º –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑.
*   `MAX_PDF_TOTAL_SIZE_MB_SEND`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π **–æ–±—â–∏–π** —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö PDF-—Ñ–∞–π–ª–æ–≤ (–≤ –ú–ë), –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –±–æ—Ç–æ–º –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑.
*   `WHITELISTED_USER_IDS`: –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏–º–µ—é—â–∏—Ö –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É. –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞–º–∏ `/add_admin`, `/remove_admin`.
*   `BIRTHDAYS`: –°–ª–æ–≤–∞—Ä—å —Å –§–ò–û –∏ –¥–∞—Ç–∞–º–∏ —Ä–æ–∂–¥–µ–Ω–∏—è (`–î–î.–ú–ú`) –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏.

## –û—Å–Ω–æ–≤–Ω–∞—è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. –ü–æ–∏—Å–∫ –§–∞–π–ª–æ–≤ –∏ –ü–∞–ø–æ–∫
–ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–∞—Ç—å –ø–∞–ø–∫–∏ –ø–æ –§–ò–û (–∏–ª–∏ —á–∞—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ TXT-—Å–≤–æ–¥–∫–∏ –∏ PDF-—Ñ–∞–π–ª—ã –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏.

*   **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å. –ë–æ—Ç –∏—â–µ—Ç –ø–∞–ø–∫–∏, –∏–º–µ–Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Å–µ —Å–ª–æ–≤–∞ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞.
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
    *   **–û–¥–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ:** –°—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç TXT-—Ñ–∞–π–ª (—Å–≤–æ–¥–∫—É) –∏ –≤—Å–µ PDF-—Ñ–∞–π–ª—ã –∏–∑ —ç—Ç–æ–π –ø–∞–ø–∫–∏.
    *   **–ù–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç "–∫–∞—Ä—Ç–æ—á–∫—É" —Å –§–ò–û –∏ –∫—Ä–∞—Ç–∫–æ–π —Å–≤–æ–¥–∫–æ–π, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ ("–ù–∞–∑–∞–¥", "–í–ø–µ—Ä–µ–¥") –∏ –∫–Ω–æ–ø–∫—É "–ù–∞–π—Ç–∏" –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–∞–ø–∫–∏.
    *   **–ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:** –£–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

> [!TIP]
> –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ –æ—á–∏—â–∞—é—Ç—Å—è –æ—Ç –ø—Ä–µ—Ñ–∏–∫—Å–∞ `Sherlock` –∏ –∑–∞–º–µ–Ω—è—é—Ç `_` –Ω–∞ –ø—Ä–æ–±–µ–ª—ã –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞.

### 2. AI-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç (Gemini)
–ë–æ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Google Gemini –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–∞–∫ –æ–±—â–∏—Ö, —Ç–∞–∫ –∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–∞.

*   **–†–µ–∂–∏–º AI —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º PDF:**
    *   –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ PDF-—Ñ–∞–π–ª–∞ –±–æ—Ç–æ–º (–∏–ª–∏ –∏–∑ –ø–∞–ø–∫–∏), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "üß† –°–ø—Ä–æ—Å–∏—Ç—å –ò–ò –ø–æ —ç—Ç–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—É".
    *   –ë–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `MODE_AI` –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ "–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç" –ø—É—Ç—å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É PDF.
    *   –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –≤–æ–ø—Ä–æ—Å—ã –∫ AI, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º —ç—Ç–æ–≥–æ PDF.
    *   **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
        *   –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Gemini (`MAX_GEMINI_REQUESTS_PER_MINUTE`).
        *   –õ–∏–º–∏—Ç –Ω–∞ —Ä–∞–∑–º–µ—Ä PDF-—Ñ–∞–π–ª–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ AI (`MAX_PDF_SIZE_MB_AI`).
        *   –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Gemini API –∏ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏.
*   **–û–±—â–∏–π —Ä–µ–∂–∏–º AI (–±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞):**
    *   –ï—Å–ª–∏ `MODE_AI` –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (–Ω–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ PDF), –±–æ—Ç –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –∏—Å–ø–æ–ª—å–∑—É—è Gemini –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É.
*   **–í—ã—Ö–æ–¥ –∏–∑ —Ä–µ–∂–∏–º–∞ AI:** –ö–æ–º–∞–Ω–¥–∞ `/cancel` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ä–µ–∂–∏–º AI –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º –ø–æ–∏—Å–∫–∞.

### 3. –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –†–∞—Å—Å—ã–ª–∫–∞ –î–Ω–µ–π –†–æ–∂–¥–µ–Ω–∏—è
–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞ –æ –¥–Ω—è—Ö —Ä–æ–∂–¥–µ–Ω–∏—è —Å–µ–≥–æ–¥–Ω—è.

*   **–ó–∞–ø—É—Å–∫:** –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ (`run_daily`) –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è (`BROADCAST_TIME`).
*   **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞, —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –æ—Ç–∫–ª—é—á–µ–Ω–∞ —Ä–∞—Å—Å—ã–ª–∫–∞, –ø–æ–ª—É—á–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–∞–∂–¥–æ–º –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–µ.
*   **–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø:** –ö —Å–æ–æ–±—â–µ–Ω–∏—é –æ –¥–Ω–µ —Ä–æ–∂–¥–µ–Ω–∏—è –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "üìÇ –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç", –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –∏–º–µ–Ω–∏–Ω–Ω–∏–∫—É.
*   **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:** –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É —á–µ—Ä–µ–∑ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –î–æ—Å—Ç—É–ø–æ–º –∏ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –î–æ—Å—Ç—É–ø–∞
*   `@restricted_access`: –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤—É —Ñ—É–Ω–∫—Ü–∏–π –±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≤ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ (`WHITELISTED_USER_IDS`).
*   `@is_main_admin`: –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º —Ç–æ–ª—å–∫–æ –¥–ª—è `MAIN_ADMIN_ID`.

### –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –î–∞–Ω–Ω—ã—Ö
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `PicklePersistence` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.

*   **–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
    *   `bot_data`:
        *   `WHITELISTED_USER_IDS`: –¢–µ–∫—É—â–∏–π –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
        *   `pdf_map`, `fio_map`, `id_counter`: –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∏ –∏ —Å—á–µ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ AI –∏ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞.
    *   `user_data`:
        *   `send_birthday_broadcast`: –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É.
        *   `gemini_requests`: –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Gemini –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ª–∏–º–∏—Ç–æ–≤.
        *   `CONTEXT_KEY`, `CONTEXT_MATCHES_KEY`, `CONTEXT_MATCH_INDEX_KEY`, `last_query`: –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∏—Å–∫–∞/AI-—Å–µ—Å—Å–∏–∏.

## –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä—è–¥ –∫–æ–º–∞–Ω–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–ª—å–∫–æ `MAIN_ADMIN_ID`.

### –ö–æ–º–∞–Ω–¥—ã –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
*   `/add_admin <ID>`: –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID –≤ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫.
*   `/remove_admin <ID>`: –£–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞ (–ì–ª–∞–≤–Ω–æ–≥–æ –ê–¥–º–∏–Ω–∞ —É–¥–∞–ª–∏—Ç—å –Ω–µ–ª—å–∑—è).
*   `/list_admins`: –í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –±–µ–ª–æ–º —Å–ø–∏—Å–∫–µ.
*   `/test_broadcast`: –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—É—é —Ä–∞—Å—Å—ã–ª–∫—É –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è –¥–ª—è `MAIN_ADMIN_ID`.

> [!TIP]
> –ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (`MAIN_ADMIN_ID`) –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –£–ª—É—á—à–µ–Ω–∏—è

*   **MarkdownV2:** –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MarkdownV2 —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–∏–º–≤–æ–ª–æ–≤.
*   **–ß–∞–Ω–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:** –î–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç AI –∏–ª–∏ —Å–ø–∏—Å–∫–∏ —Ñ–∞–º–∏–ª–∏–π) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏, —á—Ç–æ–±—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ª–∏–º–∏—Ç–∞–º Telegram.
*   **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `ChatAction` (TYPING, UPLOAD_DOCUMENT) –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.
*   **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–ø–æ–∫:** –§—É–Ω–∫—Ü–∏—è `load_and_extract_person_folders` –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Ñ–∞–º–∏–ª–∏–∏.
*   **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `send_folder_contents`:** –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ TXT –∏ PDF —Å —É—á–µ—Ç–æ–º –Ω–æ–≤—ã—Ö –ª–∏–º–∏—Ç–æ–≤.
*   **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:** –ë–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ–µ (–¥–ª—è Telegram API) —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–Ω—é, –∫–∞—Ä—Ç–æ—á–∫–∏ —á–µ–ª–æ–≤–µ–∫–∞) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å —É—á–µ—Ç–æ–º `BadRequest` "Message is not modified" –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –æ—à–∏–±–æ–∫.
*   **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫:** `error_handler` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –ª–æ–≥–∏—Ä—É–µ—Ç –∏—Ö –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (traceback, update, context_data) –≥–ª–∞–≤–Ω–æ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –≤ HTML-—Ñ–æ—Ä–º–∞—Ç–µ.

> [!WARNING]
> –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å `root_logger.setLevel(logging.WARNING)`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `logger.info(...)` —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –∑–∞–ø–∏—Å–∞–Ω—ã –≤ —Ñ–∞–π–ª –ª–æ–≥–∞. –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∏–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –Ω–∞ `logging.INFO`.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –ó–∞–ø—É—Å–∫

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install python-telegram-bot==20.x python-dotenv google-generativeai pytz
    ```
2.  **–°–æ–∑–¥–∞–π—Ç–µ `.env`:** –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±–æ—Ç–∞ —Å –≤–∞—à–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
3.  **–°–æ–∑–¥–∞–π—Ç–µ `config.json`:** –°–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–æ—Ç–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–∏–º –Ω—É–∂–¥–∞–º.
4.  **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ `all_files_utf8.txt`:** –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π –∫–æ –≤—Å–µ–º –≤–∞—à–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    ```
    Dok_2.5/–ö–∞—Ç–µ–≥–æ—Ä–∏—è1/–ò–≤–∞–Ω–æ–≤ –ò.–ò./–î–æ–∫—É–º–µ–Ω—Ç1.pdf
    Dok_2.5/–ö–∞—Ç–µ–≥–æ—Ä–∏—è2/–ü–µ—Ç—Ä–æ–≤ –ü.–ü./–°–≤–æ–¥–∫–∞ –ü–µ—Ç—Ä–æ–≤ –ü.–ü..txt
    ```
5.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
    ```bash
    python file_finder_bot.py
    ```
6.  **–í Telegram:** –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –≤–∞—à–µ–º—É –±–æ—Ç—É.
7.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–∞–Ω–¥:** –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∫–æ–º–∞–Ω–¥—ã –≤ –º–µ–Ω—é Telegram –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è `MAIN_ADMIN_ID`.
