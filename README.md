# Telegram –ë–æ—Ç –¥–ª—è –ü–æ–∏—Å–∫–∞ –î–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ AI-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (Gemini)

*–ü–æ–¥—Ä–æ–±–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞ –æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ Python-–±–æ—Ç–∞ –¥–ª—è Telegram, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, –∏—â–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –§–ò–û, –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Å –ø–æ–º–æ—â—å—é Gemini AI (—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º PDF) –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –¥–Ω—è—Ö —Ä–æ–∂–¥–µ–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∏ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.*

## –û–±–∑–æ—Ä –∏ –û—Å–Ω–æ–≤–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏

–î–∞–Ω–Ω—ã–π Telegram –±–æ—Ç —Å–ª—É–∂–∏—Ç –¥–ª—è –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–µ–ª–µ–π:
1.  **–ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:** –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ PDF/TXT —Ñ–∞–π–ª–æ–≤ –ø–æ –§–ò–û –∏–ª–∏ –¥–∞—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è.
2.  **AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Gemini Pro Vision –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–∞–∫ –æ–±—â–∏–µ, —Ç–∞–∫ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö PDF-—Ñ–∞–π–ª–æ–≤.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
*   **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:** –°–∫–∞–Ω–∏—Ä—É–µ—Ç –∑–∞–¥–∞–Ω–Ω—É—é –±–∞–∑–æ–≤—É—é –ø–∞–ø–∫—É –∏ —Å–æ–∑–¥–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º.
*   **–ü–æ–∏—Å–∫ –ø–æ –§–ò–û/–î–†:** –ù–∞—Ö–æ–¥–∏—Ç –ø–∞–ø–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   **–ö–∞—Ä—Ç–æ—á–∫–∏ –ø–µ—Ä—Å–æ–Ω:** –£–¥–æ–±–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è—Ö.
*   **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤:** –ü–µ—Ä–µ—Å—ã–ª–∞–µ—Ç TXT-—Å–≤–æ–¥–∫–∏ –∏ PDF-–¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏.
*   **Gemini AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
    *   "–í–æ–ø—Ä–æ—Å –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É": –ê–Ω–∞–ª–∏–∑ PDF –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    *   "–û–±—â–∏–π –≤–æ–ø—Ä–æ—Å": –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
*   **–õ–∏–º–∏—Ç—ã –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä PDF –¥–ª—è AI –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ/–æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä PDF –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏.
*   **–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –î–†:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ –¥–Ω—è—Ö —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ –ú–°–ö –≤—Ä–µ–º–µ–Ω–∏.
*   **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞:** –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä.
*   **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±–æ—Ç–∞ (whitelist, —Ä–µ–∂–∏–º AI, —Å—á–µ—Ç—á–∏–∫–∏) –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.
*   **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–±–æ—è—Ö.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ —Ç—Ä–µ–±—É—é—Ç—Å—è —Ñ–∞–π–ª—ã `.env` –∏ `config.json`.

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è (`.env`)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```env
TELEGRAM_BOT_TOKEN="–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê"
GEMINI_API_KEY="–í–ê–®_API_–ö–õ–Æ–ß_GEMINI"
MAIN_ADMIN_ID="–í–ê–®_TELEGRAM_ID"
```

> [!WARNING]
> –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `MAIN_ADMIN_ID`. –ï—Å–ª–∏ –æ–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ–≤–µ—Ä–µ–Ω, –±–æ—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è. –í–∞—à ID –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å, –æ—Ç–ø—Ä–∞–≤–∏–≤ `/start` –±–æ—Ç—É `@userinfobot`.

### –§–∞–π–ª –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`config.json`)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.json` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

```json
{
  "FILE_LIST_PATH": "all_files_utf8.txt",
  "BASE_FOLDER_NAME": "Dok_2.5",
  "BIRTHDAYS": {
    "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á_12.12.1990": "12.12",
    "–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á_01.01.1985": "01.01"
  },
  "TIMEZONE_MSK": "Europe/Moscow",
  "BROADCAST_HOUR": 9,
  "BROADCAST_MINUTE": 0,
  "MAX_GEMINI_REQUESTS_PER_MINUTE": 5,
  "MAX_PDF_SIZE_MB_AI": 15,
  "MAX_PDF_TO_SEND_COUNT": 10,
  "MAX_PDF_TOTAL_SIZE_MB_SEND": 50,
  "WHITELISTED_USER_IDS": [
    123456789,
    987654321
  ]
}
```

*   `FILE_LIST_PATH`: –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É, —Å–æ–¥–µ—Ä–∂–∞—â–µ–º—É —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–µ–Ω –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç. –ö–∞–∂–¥—ã–π –ø—É—Ç—å –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ.
*   `BASE_FOLDER_NAME`: –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–ø–∫–∞, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –±–æ—Ç –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã. (–ù–∞–ø—Ä–∏–º–µ—Ä, `Dok_2.5` - –ø–∞–ø–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–∞–ø–∫–∏ –ª—é–¥–µ–π).
*   `BIRTHDAYS`: –°–ª–æ–≤–∞—Ä—å —Å –§–ò–û_–î–† (–∫–ª—é—á) –∏ –î–î.–ú–ú (–∑–Ω–∞—á–µ–Ω–∏–µ) –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è.
*   `TIMEZONE_MSK`: –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏.
*   `BROADCAST_HOUR`, `BROADCAST_MINUTE`: –í—Ä–µ–º—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏ (–≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ `TIMEZONE_MSK`).
*   `MAX_GEMINI_REQUESTS_PER_MINUTE`: –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Gemini AI –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   `MAX_PDF_SIZE_MB_AI`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä PDF-—Ñ–∞–π–ª–∞ (–≤ –ú–ë) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å –ø–æ–º–æ—â—å—é AI.
*   `MAX_PDF_TO_SEND_COUNT`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ PDF-—Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑.
*   `MAX_PDF_TOTAL_SIZE_MB_SEND`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä PDF-—Ñ–∞–π–ª–æ–≤ (–≤ –ú–ë), –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑.
*   `WHITELISTED_USER_IDS`: –ù–∞—á–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–∑—Ä–µ—à–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É. –≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `bot_persistence.pkl`.

### –°–ø–∏—Å–æ–∫ –§–∞–π–ª–æ–≤ (`all_files_utf8.txt`)

–≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–Ω—ã–µ –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –±–æ—Ç –¥–æ–ª–∂–µ–Ω –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å. –ö–∞–∂–¥—ã–π –ø—É—Ç—å –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ. –ù–∞–ø—Ä–∏–º–µ—Ä:

```
/path/to/your/Dok_2.5/–ö–∞—Ç–µ–≥–æ—Ä–∏—è1/–ò–≤–∞–Ω–æ–≤ –ò.–ò._01.01.1990/–ò–≤–∞–Ω–æ–≤ –ò.–ò._01.01.1990.txt
/path/to/your/Dok_2.5/–ö–∞—Ç–µ–≥–æ—Ä–∏—è1/–ò–≤–∞–Ω–æ–≤ –ò.–ò._01.01.1990/–î–æ–∫—É–º–µ–Ω—Ç1.pdf
/path/to/your/Dok_2.5/–ö–∞—Ç–µ–≥–æ—Ä–∏—è2/–ü–µ—Ç—Ä–æ–≤ –ü.–ü._02.02.1980/–ü–µ—Ç—Ä–æ–≤ –ü.–ü._02.02.1980.txt
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–¥–µ–ª–∞–µ—Ç –ø—É—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ—Ç `BASE_FOLDER_NAME`.

> [!TIP]
> –ù–∞ Linux-—Å–∏—Å—Ç–µ–º–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, Raspberry Pi) –≤—ã –º–æ–∂–µ—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫–æ–π —Å–ø–∏—Å–æ–∫ —Å –ø–æ–º–æ—â—å—é `find`:
> ```bash
> find /path/to/your/base_folder -type f > all_files_utf8.txt
> ```
> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç–∏ –≤ —Ñ–∞–π–ª–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—É—Ç–∏, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–æ—Ç, –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–Ω—ã–π –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω `os.path.join(SCRIPT_DIR, relative_path)`.

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
pip install python-telegram-bot google-generativeai python-dotenv pytz
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –ó–∞–ø—É—Å–∫

1.  **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤:** –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ `bot.py` (–≤–∞—à —Å–∫—Ä–∏–ø—Ç), `.env`, `config.json` –∏ `all_files_utf8.txt` –≤ –æ–¥–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
2.  **–ó–∞–ø—É—Å–∫:**

    ```bash
    python3 bot.py
    ```

> [!INFO]
> –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `bot_persistence.pkl`, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ –±–æ—Ç–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å—Å—ã–ª–∫–∏, –∫–æ–Ω—Ç–µ–∫—Å—Ç AI –∏ —Ç.–¥.). –ù–µ —É–¥–∞–ª—è–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞.

## –û—Å–Ω–æ–≤–Ω–æ–π –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. –ü–æ–∏—Å–∫ –î–æ–∫—É–º–µ–Ω—Ç–æ–≤

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –§–ò–û (–∏–ª–∏ —á–∞—Å—Ç—å –§–ò–û), –±–æ—Ç –∏—â–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞–ø–∫–∏.

*   **–ö–æ–º–∞–Ω–¥–∞:** `/search` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞.
*   **–û–¥–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ:** –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ –æ–¥–Ω–∞ –ø–∞–ø–∫–∞, –±–æ—Ç —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç TXT-—Å–≤–æ–¥–∫—É (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏ –≤—Å–µ PDF-—Ñ–∞–π–ª—ã –∏–∑ —ç—Ç–æ–π –ø–∞–ø–∫–∏.
*   **–ù–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:** –ë–æ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç "–∫–∞—Ä—Ç–æ—á–∫—É" —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –ø–æ–∑–≤–æ–ª—è—è –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫—Ä–∞—Ç–∫–∏–µ —Å–≤–æ–¥–∫–∏ –∏ –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—É—é –∑–∞–ø–∏—Å—å.

> [!TIP]
> –î–ª—è –æ—Ç–º–µ–Ω—ã —Ç–µ–∫—É—â–µ–≥–æ AI-—Ä–µ–∂–∏–º–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –ø–æ–∏—Å–∫—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/cancel`.

### 2. AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç (Gemini)

AI –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

#### –ê. –í–æ–ø—Ä–æ—Å –ø–æ –ö–æ–Ω—Ç–µ–∫—Å—Ç—É PDF

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ PDF-—Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤) –ø–æ–¥ –Ω–∏–º –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "üß† –°–ø—Ä–æ—Å–∏—Ç—å –ò–ò –ø–æ —ç—Ç–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—É".

1.  –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É.
2.  –ë–æ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –≤ "–†–µ–∂–∏–º –ò–ò" –¥–ª—è —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞.
3.  –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –∏ –ò–ò –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ PDF.
4.  –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ä–µ–∂–∏–º–∞ –ò–ò –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/cancel`.

> [!WARNING]
> **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è AI-–∞–Ω–∞–ª–∏–∑–∞ PDF:**
> *   –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è AI-–∞–Ω–∞–ª–∏–∑–∞: `MAX_PDF_SIZE_MB_AI` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 15 –ú–ë).
> *   –õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤: `MAX_GEMINI_REQUESTS_PER_MINUTE` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É).

#### –ë. –û–±—â–∏–π –í–æ–ø—Ä–æ—Å

–ï—Å–ª–∏ –≤—ã –Ω–µ –≤ —Ä–µ–∂–∏–º–µ AI-–∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ PDF, –ª—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ –±–æ—Ç—É –±—É–¥–µ—Ç —Ä–∞—Å—Ü–µ–Ω–µ–Ω –∫–∞–∫ –æ–±—â–∏–π –≤–æ–ø—Ä–æ—Å –∫ Gemini AI.

### 3. –†–∞—Å—Å—ã–ª–∫–∞ –î–Ω–µ–π –†–æ–∂–¥–µ–Ω–∏—è

*   **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ `config.json` –≤—Ä–µ–º—è (`BROADCAST_HOUR`, `BROADCAST_MINUTE`) –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è.
*   **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ï—Å–ª–∏ –µ—Å—Ç—å –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–∏, –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞, —É –∫–æ—Ç–æ—Ä—ã—Ö –≤–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ü–∏—è "–†–∞—Å—Å—ã–ª–∫–∞".
*   **–ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç:** –í —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ –î–† –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ "üìÇ –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç", –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ –ø–∞–ø–∫–∏ –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–∞.

## –ö–æ–º–∞–Ω–¥—ã –ë–æ—Ç–∞

### –î–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

*   `/start` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, —Å–±—Ä–æ—Å —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞.
*   `/search` - –Ø–≤–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º –ø–æ–∏—Å–∫–∞.
*   `/cancel` - –û—Ç–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º AI –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º –ø–æ–∏—Å–∫–∞.
*   `/birthdays` - –ü–æ–∫–∞–∑–∞—Ç—å –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.

### Inline-–∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é:

*   üìú **–î–æ—Å—Ç—É–ø–Ω—ã–µ –§–∞–º–∏–ª–∏–∏:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–º–∏–ª–∏–π, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.
*   üéÇ **–£ –∫–æ–≥–æ —Å–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–æ–≤ –Ω–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å.
*   ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å—Å—ã–ª–∫–∏:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏ –î–†.

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ì–ª–∞–≤–Ω–æ–≥–æ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (`MAIN_ADMIN_ID`):

*   `/add_admin <ID>` - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫.
*   `/remove_admin <ID>` - –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞.
*   `/list_admins` - –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–æ—Å—Ç—É–ø–æ–º.
*   `/test_broadcast` - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Ä–∞—Å—Å—ã–ª–∫—É –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞).

## –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –û—Ç–ª–∞–¥–∫–∞

–ë–æ—Ç –≤–µ–¥–µ—Ç –ª–æ–≥ –≤ —Ñ–∞–π–ª `bot_log.txt` (–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞) –∏ –≤—ã–≤–æ–¥–∏—Ç –µ–≥–æ –≤ –∫–æ–Ω—Å–æ–ª—å.
`logging.WARNING` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏–∑–ª–∏—à–Ω–µ–≥–æ —à—É–º–∞ –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

> [!INFO]
> –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç (–≤–∫–ª—é—á–∞—è traceback) `MAIN_ADMIN_ID`, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–∞

*   `@restricted_access`: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –±–µ–ª–æ–º —Å–ø–∏—Å–∫–µ `context.bot_data['whitelist']`. –ï—Å–ª–∏ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç, –¥–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω –≤—Å–µ–º.
*   `@is_main_admin`: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `MAIN_ADMIN_ID`.

### –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `PicklePersistence` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.
–§–∞–π–ª `bot_persistence.pkl` —Ö—Ä–∞–Ω–∏—Ç:
*   `application.bot_data`: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `whitelist`, `pdf_map`, —Å—á–µ—Ç—á–∏–∫–∏ ID).
*   `application.user_data`: –î–∞–Ω–Ω—ã–µ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `send_birthday_broadcast`, `gemini_requests`).

### –û–±—Ä–∞–±–æ—Ç–∫–∞ Markdown

–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –∏—Å–ø–æ–ª—å–∑—É—é—Ç `ParseMode.MARKDOWN_V2` –∏ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —Å –ø–æ–º–æ—â—å—é `telegram.helpers.escape_markdown`. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–Ω—ä–µ–∫—Ü–∏–∏.

```python
from telegram.helpers import escape_markdown
# –ü—Ä–∏–º–µ—Ä:
safe_text = escape_markdown("–í–∞—à —Ç–µ–∫—Å—Ç —Å _–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è–º–∏_ –∏ *–∑–≤–µ–∑–¥–æ—á–∫–∞–º–∏*", version=2)
await update.message.reply_text(safe_text, parse_mode=ParseMode.MARKDOWN_V2)
```

## –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –£–ª—É—á—à–µ–Ω–∏—è

–í –∫–æ–¥–µ –±—ã–ª–∏ —Å–¥–µ–ª–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:

*   **–ü–µ—Ä–µ–¥–∞—á–∞ `update` –≤ `send_folder_contents`:** –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—Ä—Ç–æ—á–∫—É –ø–µ—Ä—Å–æ–Ω—ã) –≤–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.
*   **–ö–Ω–æ–ø–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –≤ —Ä–∞—Å—Å—ã–ª–∫–µ –î–†:** –î–æ–±–∞–≤–ª–µ–Ω–∞ Inline-–∫–Ω–æ–ø–∫–∞ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –ø–æ –∏–º–µ–Ω–∏–Ω–Ω–∏–∫—É.
*   **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `fio_id` –∏ `pdf_id`:** –î–ª—è CallbackQuery —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ—Ä–æ—Ç–∫–∏–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ ID –≤–º–µ—Å—Ç–æ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –§–ò–û –∏–ª–∏ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º. –≠—Ç–æ –æ–±—Ö–æ–¥–∏—Ç –ª–∏–º–∏—Ç CallbackQuery –Ω–∞ 64 –±–∞–π—Ç–∞ –∏ —É–ª—É—á—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
*   **–û—á–∏—Å—Ç–∫–∞ –∏–º–µ–Ω –ø–∞–ø–æ–∫/—Ñ–∞–π–ª–æ–≤:** –£–ª—É—á—à–µ–Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ "Sherlock" –∏ –¥—Ä—É–≥–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤/–ø–∞–ø–æ–∫ –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
*   **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `whitelist`:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ, —á—Ç–æ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `set` –∏ –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–µ—Ç `MAIN_ADMIN_ID`.
*   **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–º–∏–ª–∏–π:** –£–ª—É—á—à–µ–Ω –≤–∏–¥ —Å–ø–∏—Å–∫–∞ —Ñ–∞–º–∏–ª–∏–π —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.
*   **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞:** –î–æ–±–∞–≤–ª–µ–Ω—ã `send_chat_action` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è "–ø–µ—á–∞—Ç–∞–µ—Ç..." –∏–ª–∏ "–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª...", —É–ª—É—á—à–∞—è –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –±–æ—Ç–∞.
*   **–†–∞–∑–±–∏–≤–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** `split_text_into_chunks` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ò–ò –∏ –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫ –Ω–∞ —á–∞—Å—Ç–∏, —á—Ç–æ–±—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ª–∏–º–∏—Ç–∞–º Telegram.

---
#dev #python #telegrambot #gemini #ai #bot #homelab #devops #inbox/gemini
